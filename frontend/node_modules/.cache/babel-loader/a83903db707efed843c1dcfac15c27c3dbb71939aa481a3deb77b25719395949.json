{"ast":null,"code":"var _jsxFileName = \"/Users/24hrsnapcook/Desktop/Networking_App_Full_Stack_Deploy/frontend/src/ImageUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageUpload = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [recentUploads, setRecentUploads] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    checkBackendHealth();\n    fetchRecentUploads();\n  }, []);\n  const checkBackendHealth = async () => {\n    try {\n      console.log('Checking backend health...');\n      const {\n        data\n      } = await axios.get(`${process.env.REACT_APP_API_URL}/health`);\n      console.log('Backend health status:', data);\n    } catch (error) {\n      console.error('Backend health check failed:', error);\n      setError('Backend service is not available');\n    }\n  };\n  const fetchRecentUploads = async () => {\n    console.log('Fetching recent uploads...');\n    console.log('API URL:', process.env.REACT_APP_API_URL);\n    try {\n      const {\n        data\n      } = await axios.get(`${process.env.REACT_APP_API_URL}/recent-uploads`);\n      console.log('Received recent uploads:', data);\n      setRecentUploads(data.uploads);\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('Error fetching recent uploads:', {\n        message: error.message,\n        response: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data,\n        status: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status\n      });\n      setError('Failed to fetch recent uploads');\n    }\n  };\n  const handleFileSelect = event => {\n    const file = event.target.files[0];\n    console.log('File selected:', {\n      name: file.name,\n      type: file.type,\n      size: file.size\n    });\n    setSelectedFile(file);\n    setError(null);\n  };\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setError('Please select a file first!');\n      return;\n    }\n    console.log('Starting file upload:', {\n      name: selectedFile.name,\n      type: selectedFile.type,\n      size: selectedFile.size\n    });\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    setUploading(true);\n    setError(null);\n    try {\n      console.log('Sending upload request to:', `${process.env.REACT_APP_API_URL}/upload`);\n      const {\n        data\n      } = await axios.post(`${process.env.REACT_APP_API_URL}/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      console.log('Upload response:', data);\n      setSelectedFile(null);\n      fetchRecentUploads();\n      alert('File uploaded successfully!');\n    } catch (error) {\n      var _error$response3, _error$response4, _error$response5, _error$response5$data;\n      console.error('Upload error:', {\n        message: error.message,\n        response: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data,\n        status: (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status\n      });\n      setError(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || 'Error uploading file');\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"Upload Image to S3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFileSelect,\n        className: \"mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        disabled: !selectedFile || uploading,\n        className: `px-4 py-2 rounded ${!selectedFile || uploading ? 'bg-gray-300 cursor-not-allowed' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n        children: uploading ? 'Uploading...' : 'Upload'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold mb-2\",\n      children: \"Recent Uploads\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4\",\n      children: recentUploads.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border rounded p-2\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: url,\n          alt: `Upload ${index + 1}`,\n          className: \"w-full h-48 object-cover rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageUpload, \"bzj+TSregnWRpIP9k86eQUPE5/o=\");\n_c = ImageUpload;\nexport default ImageUpload;\nvar _c;\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ImageUpload","_s","selectedFile","setSelectedFile","recentUploads","setRecentUploads","uploading","setUploading","error","setError","checkBackendHealth","fetchRecentUploads","console","log","data","get","process","env","REACT_APP_API_URL","uploads","_error$response","_error$response2","message","response","status","handleFileSelect","event","file","target","files","name","type","size","handleUpload","formData","FormData","append","post","headers","alert","_error$response3","_error$response4","_error$response5","_error$response5$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","onClick","disabled","map","url","index","src","alt","_c","$RefreshReg$"],"sources":["/Users/24hrsnapcook/Desktop/Networking_App_Full_Stack_Deploy/frontend/src/ImageUpload.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst ImageUpload = () => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [recentUploads, setRecentUploads] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    checkBackendHealth();\n    fetchRecentUploads();\n  }, []);\n\n  const checkBackendHealth = async () => {\n    try {\n      console.log('Checking backend health...');\n      const { data } = await axios.get(`${process.env.REACT_APP_API_URL}/health`);\n      console.log('Backend health status:', data);\n    } catch (error) {\n      console.error('Backend health check failed:', error);\n      setError('Backend service is not available');\n    }\n  };\n\n  const fetchRecentUploads = async () => {\n    console.log('Fetching recent uploads...');\n    console.log('API URL:', process.env.REACT_APP_API_URL);\n    \n    try {\n      const { data } = await axios.get(`${process.env.REACT_APP_API_URL}/recent-uploads`);\n      console.log('Received recent uploads:', data);\n      setRecentUploads(data.uploads);\n    } catch (error) {\n      console.error('Error fetching recent uploads:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status\n      });\n      setError('Failed to fetch recent uploads');\n    }\n  };\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    console.log('File selected:', {\n      name: file.name,\n      type: file.type,\n      size: file.size\n    });\n    setSelectedFile(file);\n    setError(null);\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setError('Please select a file first!');\n      return;\n    }\n\n    console.log('Starting file upload:', {\n      name: selectedFile.name,\n      type: selectedFile.type,\n      size: selectedFile.size\n    });\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    setUploading(true);\n    setError(null);\n    \n    try {\n      console.log('Sending upload request to:', `${process.env.REACT_APP_API_URL}/upload`);\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_API_URL}/upload`,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n      \n      console.log('Upload response:', data);\n      setSelectedFile(null);\n      fetchRecentUploads();\n      alert('File uploaded successfully!');\n    } catch (error) {\n      console.error('Upload error:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status\n      });\n      setError(error.response?.data?.error || 'Error uploading file');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-xl font-bold mb-4\">Upload Image to S3</h2>\n      \n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4\">\n          {error}\n        </div>\n      )}\n      \n      <div className=\"mb-4\">\n        <input \n          type=\"file\" \n          accept=\"image/*\" \n          onChange={handleFileSelect}\n          className=\"mb-2\"\n        />\n        <button \n          onClick={handleUpload}\n          disabled={!selectedFile || uploading}\n          className={`px-4 py-2 rounded ${\n            !selectedFile || uploading \n              ? 'bg-gray-300 cursor-not-allowed' \n              : 'bg-blue-500 hover:bg-blue-600 text-white'\n          }`}\n        >\n          {uploading ? 'Uploading...' : 'Upload'}\n        </button>\n      </div>\n\n      <h3 className=\"text-lg font-semibold mb-2\">Recent Uploads</h3>\n      <div className=\"grid grid-cols-2 gap-4\">\n        {recentUploads.map((url, index) => (\n          <div key={index} className=\"border rounded p-2\">\n            <img \n              src={url} \n              alt={`Upload ${index + 1}`} \n              className=\"w-full h-48 object-cover rounded\"\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ImageUpload;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACS,aAAa,EAAEC,gBAAgB,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACdc,kBAAkB,CAAC,CAAC;IACpBC,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMD,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACFE,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzC,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,SAAS,CAAC;MAC3EN,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEC,IAAI,CAAC;IAC7C,CAAC,CAAC,OAAON,KAAK,EAAE;MACdI,OAAO,CAACJ,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDC,QAAQ,CAAC,kCAAkC,CAAC;IAC9C;EACF,CAAC;EAED,MAAME,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrCC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IACzCD,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEG,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAC;IAEtD,IAAI;MACF,MAAM;QAAEJ;MAAK,CAAC,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAiB,CAAC;MACnFN,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEC,IAAI,CAAC;MAC7CT,gBAAgB,CAACS,IAAI,CAACK,OAAO,CAAC;IAChC,CAAC,CAAC,OAAOX,KAAK,EAAE;MAAA,IAAAY,eAAA,EAAAC,gBAAA;MACdT,OAAO,CAACJ,KAAK,CAAC,gCAAgC,EAAE;QAC9Cc,OAAO,EAAEd,KAAK,CAACc,OAAO;QACtBC,QAAQ,GAAAH,eAAA,GAAEZ,KAAK,CAACe,QAAQ,cAAAH,eAAA,uBAAdA,eAAA,CAAgBN,IAAI;QAC9BU,MAAM,GAAAH,gBAAA,GAAEb,KAAK,CAACe,QAAQ,cAAAF,gBAAA,uBAAdA,gBAAA,CAAgBG;MAC1B,CAAC,CAAC;MACFf,QAAQ,CAAC,gCAAgC,CAAC;IAC5C;EACF,CAAC;EAED,MAAMgB,gBAAgB,GAAIC,KAAK,IAAK;IAClC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClCjB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE;MAC5BiB,IAAI,EAAEH,IAAI,CAACG,IAAI;MACfC,IAAI,EAAEJ,IAAI,CAACI,IAAI;MACfC,IAAI,EAAEL,IAAI,CAACK;IACb,CAAC,CAAC;IACF7B,eAAe,CAACwB,IAAI,CAAC;IACrBlB,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC;EAED,MAAMwB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAAC/B,YAAY,EAAE;MACjBO,QAAQ,CAAC,6BAA6B,CAAC;MACvC;IACF;IAEAG,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE;MACnCiB,IAAI,EAAE5B,YAAY,CAAC4B,IAAI;MACvBC,IAAI,EAAE7B,YAAY,CAAC6B,IAAI;MACvBC,IAAI,EAAE9B,YAAY,CAAC8B;IACrB,CAAC,CAAC;IAEF,MAAME,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAElC,YAAY,CAAC;IAErCK,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACFG,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE,GAAGG,OAAO,CAACC,GAAG,CAACC,iBAAiB,SAAS,CAAC;MACpF,MAAM;QAAEJ;MAAK,CAAC,GAAG,MAAMjB,KAAK,CAACwC,IAAI,CAC/B,GAAGrB,OAAO,CAACC,GAAG,CAACC,iBAAiB,SAAS,EACzCgB,QAAQ,EACR;QACEI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CACF,CAAC;MAED1B,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEC,IAAI,CAAC;MACrCX,eAAe,CAAC,IAAI,CAAC;MACrBQ,kBAAkB,CAAC,CAAC;MACpB4B,KAAK,CAAC,6BAA6B,CAAC;IACtC,CAAC,CAAC,OAAO/B,KAAK,EAAE;MAAA,IAAAgC,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,qBAAA;MACd/B,OAAO,CAACJ,KAAK,CAAC,eAAe,EAAE;QAC7Bc,OAAO,EAAEd,KAAK,CAACc,OAAO;QACtBC,QAAQ,GAAAiB,gBAAA,GAAEhC,KAAK,CAACe,QAAQ,cAAAiB,gBAAA,uBAAdA,gBAAA,CAAgB1B,IAAI;QAC9BU,MAAM,GAAAiB,gBAAA,GAAEjC,KAAK,CAACe,QAAQ,cAAAkB,gBAAA,uBAAdA,gBAAA,CAAgBjB;MAC1B,CAAC,CAAC;MACFf,QAAQ,CAAC,EAAAiC,gBAAA,GAAAlC,KAAK,CAACe,QAAQ,cAAAmB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB5B,IAAI,cAAA6B,qBAAA,uBAApBA,qBAAA,CAAsBnC,KAAK,KAAI,sBAAsB,CAAC;IACjE,CAAC,SAAS;MACRD,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,oBACER,OAAA;IAAK6C,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClB9C,OAAA;MAAI6C,SAAS,EAAC,wBAAwB;MAAAC,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAE7DzC,KAAK,iBACJT,OAAA;MAAK6C,SAAS,EAAC,sEAAsE;MAAAC,QAAA,EAClFrC;IAAK;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAEDlD,OAAA;MAAK6C,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnB9C,OAAA;QACEgC,IAAI,EAAC,MAAM;QACXmB,MAAM,EAAC,SAAS;QAChBC,QAAQ,EAAE1B,gBAAiB;QAC3BmB,SAAS,EAAC;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjB,CAAC,eACFlD,OAAA;QACEqD,OAAO,EAAEnB,YAAa;QACtBoB,QAAQ,EAAE,CAACnD,YAAY,IAAII,SAAU;QACrCsC,SAAS,EAAE,qBACT,CAAC1C,YAAY,IAAII,SAAS,GACtB,gCAAgC,GAChC,0CAA0C,EAC7C;QAAAuC,QAAA,EAEFvC,SAAS,GAAG,cAAc,GAAG;MAAQ;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENlD,OAAA;MAAI6C,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC9DlD,OAAA;MAAK6C,SAAS,EAAC,wBAAwB;MAAAC,QAAA,EACpCzC,aAAa,CAACkD,GAAG,CAAC,CAACC,GAAG,EAAEC,KAAK,kBAC5BzD,OAAA;QAAiB6C,SAAS,EAAC,oBAAoB;QAAAC,QAAA,eAC7C9C,OAAA;UACE0D,GAAG,EAAEF,GAAI;UACTG,GAAG,EAAE,UAAUF,KAAK,GAAG,CAAC,EAAG;UAC3BZ,SAAS,EAAC;QAAkC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C;MAAC,GALMO,KAAK;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAMV,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAChD,EAAA,CA7IID,WAAW;AAAA2D,EAAA,GAAX3D,WAAW;AA+IjB,eAAeA,WAAW;AAAC,IAAA2D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}